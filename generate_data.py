
data = """
이름	연락처	등록일	과목	횟수	결제금액
유영재	010-4032-2133	2023.07.21	어린이 피아노 취미	주 2	17
강민서 A	010-9467-8494	2023.08.01	어린이 피아노 취미	주 2	17
현유주	010-8887-6504	2023.08.11	어린이 피아노 취미	주 2	16
김지유	010-9134-9966	2023.08.22	어린이 피아노 취미	주 2	17
박시온	010-2303-1943	2023.11.06	어린이 피아노 취미	주 3	18
이유강	010-8223-0279	2023.11.09	어린이 피아노 취미	주 2	17
박일후	010-2844-8706	2023.12.08	어린이 피아노 취미	주 2	16
장선우	010-2984-7576	2024.01.08	어린이 피아노 취미	주 2	16
황건우	010-3433-6929	2024.01.22	어린이 피아노 취미	주 3	17
권무휼	010-3254-6107	2024.02.01	어린이 피아노 취미	주 2	16
권레아	010-3254-6107	2024.02.01	어린이 피아노 취미	주 2	16
조수아	010-8968-3301	2024.02.20	어린이 피아노 취미	주 3	18
김규민	010-8898-3286	2024.02.29	어린이 피아노 취미	주 5	20
임시현	010-4548-8582	2024.03.18	어린이 피아노 취미	주 2	17
임지유	010-4548-8582	2024.03.18	어린이 피아노 취미	주 2	17
이원준	010-7226-4543	2024.04.08	어린이 피아노 취미	주 2	16
김로이	010-3300-8113	2024.07.04	어린이 피아노 취미	주 2	16
서연아	010-2440-5641	2024.07.29	어린이 피아노 취미	주 3	18
유은서	010-6647-1302	2024.08.20	어린이 피아노 취미	주 3	18
유은우	010-6647-1302	2024.08.20	어린이 피아노 취미	주 3	17
이재현	010-9910-4479	2024.09.05	어린이 피아노 취미	주 3/콩쿨반	22
이민준	010-9151-8730	2024.09.20	어린이 피아노 취미	주 2	15
김재홍	010-7223-9719	2024.10.15	어린이 피아노 취미	주 2	16
최제인	010-3845-7053	2024.11.26	어린이 피아노 취미	주 3	17
김지언	010-9214-0259	2024.12.09	어린이 피아노 취미	주 2	18
김정원	010-9291-3066	2024.12.15	어린이 피아노 취미	주 3	18
이우준	010-7226-4543	2024.12.27	어린이 피아노 취미	주 3	17
홍예서	010-4435-1999	2025.01.03	중학생 피아노 취미	주 1	14
최우진	010-2743-8030	2025.01.06	어린이 피아노 취미	주 2	16
김서아	010-2871-3755	2025.01.07	어린이 피아노 취미	주 2	18
백아연	010-8801-7008	2025.01.07	중학생 피아노 취미	주 1	14
김시우	010-4578-3337	2025.01.09	어린이 피아노 취미	주 3	17
박유준	010-8842-8032	2025.01.14	어린이 피아노 취미	주 3	17
김은채	010-2020-6341	2025.01.16	어린이 피아노 취미	주 3	17
이주아	010-2665-8626	2025.01.23	어린이 피아노 취미	주 2	17
백승민	010-5024-5148	2025.02.24	어린이 피아노 취미	주 3	17
최서율	010-2817-7730	2025.02.28	어린이 피아노 취미	주 3	17
문소원	010-2855-0704	2025.03.05	어린이 피아노 취미	주 3	17
고윤우	010-6276-3717	2025.03.04	어린이 피아노 취미	주 3	17
문서준	010-8710-7009	2025.03.08	어린이 피아노 취미	주 2	17
김세영	010-5953-9660	2025.03.10	어린이 피아노 취미	주 3	17
오시윤	010-3461-5480	2025.03.11	어린이 피아노 취미	주 2	16
문서준	010-8710-7009	2025.03.08	어린이 피아노 취미	주 2	17
최아현	010-2786-0561	2025.03.18	어린이 피아노 취미	주 2	16
권리안	010-8752-5619	2025.03.24	어린이 피아노 취미	주 2	16
김예준	010-2815-8052	2025.03.28	어린이 피아노 취미	주 2	16
성예원	010-4268-2914	2025.03.29	어린이 피아노 취미	주 3	16
방진서	010-3346-8443	2025.04.11	어린이 피아노 취미	주 3	17
권이안	010-2229-8569	2025.04.12	어린이 피아노 취미 	주 2	16
김래아	010-9149-9303	2025.04.12	어린이 피아노 취미 	주 1	15
진승혁	010-2395-2534	2025.04.15	어린이 피아노 취미 	주 3	17
조하경	010-3456-7978	2025.04.15	어린이 피아노 취미 	주 2	16
임소민	010-6275-2560	2025.04.15	어린이 피아노 취미 	주 3	17
김다온	010-2648-8699	2025.04.28	어린이 피아노 취미 	주 2	0
권율	010-2229-8569	2025.05.03	중학생 피아노 취미	주 1	14
김서하	010-6855-2600	2025.05.08	어린이 피아노 취미	주 2	16
송유빈	010-7444-4538	2025.05.21	어린이 피아노 취미	주 3	16
권민서	010-8728-4624	2025.05.30	어린이 피아노 취미	주 2	16
이지안	010-9151-8730	2025.06.05	어린이 피아노 취미	주 2	15
문혜준	010-3675-4675	2025.06.09	어린이 피아노 취미	주 3	17
한서진	010-5130-3224	2025.06.09	어린이 피아노 취미	주 2	16
조세연	010-2878-3482	2025.07.03	어린이 피아노 취미	주 3	17
유지안	010-2707-0908	2025.07.04	어린이 피아노 취미	주 2	16
이아린	010-4787-3763	2025.07.24	어린이 피아노 취미	주 3	16
이예린	010-4817-1190	2025.08.06	어린이 피아노 취미	주 2	16
박유민	010-9663-9285	2025.08.06	어린이 피아노 취미	주 3	16
이도겸	010-9041-9675	2025.08.19	어린이 피아노 취미	주 3	17
최준서	010-9823-1398	2025.08.19	어린이 피아노 취미	주 2	16
임주환	010-5668-7049	2025.08.19	어린이 피아노 취미	주 2	16
엄지인	010-3551-2058	2025.08.21	어린이 피아노 취미	주 2	15
이재인	010-3452-1513	2025.09.11	어린이 피아노 취미	주 2	16
조수아 B	010-3402-3356	2025.09.19	어린이 피아노 취미	주 2	16
정준수	010-4768-6361	2025.09.29	어린이 피아노 취미	주 3	16
정은수	010-4768-6361	2025.10.16	어린이 피아노 취미	주 3	16
이로은	010-9041-9675	2025.10.28	어린이 피아노 취미	주 3	16
이우찬	010-3125-5702	2025.02.28	어린이 피아노 취미	주 2	16
최서우	010-8752-4990	2025.11.03	어린이 피아노 취미	주 3	17
김지오	010-6368-0595	2025.11.04	어린이 피아노 취미	주 2	15
양수현	010-9063-2124	2025.11.12	어린이 피아노 취미	주 3	17
박수연	010-6634-0519	2025.12.01	어린이 피아노 취미	주 2	16
이지호	010-9053-3111	2025.12.03	어린이 피아노 취미	주 2	15
한경원	010-4763-1314	2025.12.08	어린이 피아노 취미	주 1	0
박윤경	010-2500-1618	2024.01.08	어린이 피아노 취미	주 3	18
김예진	010-4511-2051	2026.01.02	어린이 피아노 취미	주 2	17
이윤우	010-9229-7783	2026.01.05	어린이 피아노 취미	주 2	17
김서원	010-9229-7783	2026.01.06	어린이 피아노 취미	주 3	16
박서아	010-8618-5526	2026.01.06	어린이 피아노 취미	주 2	15
장하준	010-8888-9460	2026.01.12	중학생 피아노 취미	주 1	14
허예안	010-5210-3401	2026.01.13	어린이 피아노 취미	주 2	17
이정엽	010-5377-9631	2026.01.14	중학생 피아노 취미	주 3	17
양현진	010-9063-2124	2026.01.14	어린이 피아노 취미	주 3	18
조주혜	010-3617-4611	2026.01.16	어린이 피아노 취미	주 2	15
원소희	010-9444-1632	2026.01.20	어린이 피아노 취미	주 3	19
오서원	010-9083-8514	2026.01.31	어린이 피아노 취미	주 1	15
"""

import json

students = []
lines = data.strip().split("\n")
# Skip header if it exists
if "이름" in lines[0]:
    lines = lines[1:]

for line in lines:
    parts = line.strip().split("\t")
    if len(parts) >= 6:
        name = parts[0].strip()
        contact = parts[1].strip()
        reg_date_raw = parts[2].strip()
        subject_raw = parts[3].strip()
        frequency_raw = parts[4].strip() # 횟수 (e.g. 주 2)
        fee_raw = parts[5].strip() # 결제금액 (e.g. 17)

        # Subject Mapping
        subject = subject_raw
        if subject == "어린이 피아노 취미":
            subject = "어린이 피아노"

        # Date Formatting
        reg_date = reg_date_raw.replace(".", "-")

        # Pin Number Generation
        clean_contact = contact.replace("-", "").replace(" ", "")
        pin_number = clean_contact[-4:]
        
        # Fee Calculation
        try:
            tuition_fee = int(fee_raw) * 10000
        except ValueError:
            tuition_fee = 0
            
        # Frequency to Total Count Logic
        total_count = 0
        if "주 1" in frequency_raw:
            total_count = 4
        elif "주 2" in frequency_raw:
            total_count = 8
        elif "주 3" in frequency_raw:
            total_count = 12
        elif "주 5" in frequency_raw:
            total_count = 20
        else:
            # Fallback for complex strings like "주 3/콩쿨반" -> treat as 3 or default 4?
            if "주" in frequency_raw:
                try:
                    # extract the number after '주'
                    num_str = frequency_raw.split("주")[1].strip().split()[0] # basic parsing
                    # remove non-digit chars
                    import re
                    num = re.findall(r'\d+', frequency_raw)
                    if num:
                        per_week = int(num[0])
                        total_count = per_week * 4
                except:
                    total_count = 0

        student = {
            "name": name,
            "contact": contact,
            "pinNumber": pin_number,
            "regDate": reg_date,
            "branch": "1관",
            "subject": subject,
            "usageType": "session", # Fixed to 'session'
            "totalCount": total_count,
            "currentCount": 0,
            "tuitionFee": str(tuition_fee),
        }
        students.append(student)

with open('assets/studentData.js', 'w', encoding='utf-8') as f:
    f.write("export const studentData = ")
    json.dump(students, f, ensure_ascii=False, indent=2)
    f.write(";")
